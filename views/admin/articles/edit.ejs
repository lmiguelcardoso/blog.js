<%- include ('../../partials/header.ejs') %>
<%- include('../../partials/navbar.ejs') %>


<body>
    <hr>
    <div class="container">
        <div class="card">
            <div class="card-header">
            <h2>Editar Artigo</h2>       
            </div>
    
            <div class="card-body">
                <form action="/admin/articles/update" method="post">
                <input type="hidden" value="<%= article.id%>" name="id">
                <input class="form-control" type="text" name="title" id=""  value="<%=article.title%>"placeholder="Defina o tÃ­tulo a do artigo">             
                <span>Categoria:</span>
                <select name="category" class="form-control">                   
                    <% categories.forEach((category)=>{ %>
                        <% if(category.id == article.categoryId){ %>
                            <option value="<%= article.category.id%>" selected><%= article.category.title%></option>
                        <%}else{%>
                            <option value="<%=category.id%>" ><%=category.title%></option>
                        <%} %>
                   <% }) %>
                </select>
                <br>
                <textarea name="body" id="article" cols="30" rows="10" class="form-control" placeholder="Escreva o artigo aqui"><%= article.body %></textarea>
                <br>
                <button class="btn btn-primary">Cadastrar</button>
                </form>          
            </div>      
        </div>
    </div>
</body>

<%- include ('../../partials/footer.ejs') %>


<script src="/tinymce/tinymce.js"></script>
<script>
    tinymce.init({
        selector: "#article",
        plugins: 'advlist autolink link image lists print preview hr searchreplace wordcount fullscreen media insertdatetime save table paste emoticons',
        language: 'pt_BR'     
    })

</script>

